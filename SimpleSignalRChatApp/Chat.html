<!DOCTYPE html>
<html>
<head>
    <!--jQuery-->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <!--CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!--Optional theme-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!--JavaScript-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <title>Simple SignalR Chat App</title>

    <style type="text/css">
        html {
            padding-top: 50px;
            padding-left: 50px;
        }

        body {
            background-image: url("https://wallpaperscraft.com/image/minimalism_sky_clouds_sun_mountains_lake_landscape_95458_1920x1080.jpg");
        }

        .chatBox {
            background-color: papayawhip;
            border: thick solid #808080;
            border-radius: 5px;
            padding-top: 25px;
            padding-bottom: 5px;
            margin: 20px;
        }
    </style>
</head>
<body>
    <h4 style="color: orange">Welcome to the chat room!</h4>
    <div class="container-fluid col-md-6 chatBox">
        <input class="col-md-10" id="msg" type="text" />&nbsp;
        <button type="button" class="btn btn-sm btn-primary" id="sendBtn">Send</button>
        <input type="hidden" id="userName" />
        <ul id="msgThread"></ul>
    </div>

    <!--jQuery library-->
    <script src="Scripts/jquery-1.10.2.js"></script>
    <!--SignalR library-->
    <script src="/Scripts/jquery.signalR-2.2.2.js"></script>
    <!--autogenerated SignalR hub-->
    <script src="/signalr/hubs"></script>

    <script type="text/javascript">
        $(function () {
            //Declare a proxy for the hub
            var chat = $.connection.chatHub;

            //The hub calls the function below to broadcast messages
            chat.client.sendMessage = function (name, message) {

                //Display user's name and message on the page
                var displayName = $("<div />").text(name).html();
                var displayMsg = $("<div />").text(message).html();

                //Append messages to page
                $("#msgThread").append("<li><strong>" + displayName + "</strong>:&nbsp;&nbsp;" + displayMsg + "</li>");
            };
            //Prepend user's name to messages
            $("#userName").val(prompt("Enter your name:", ""));
            $("#msg").focus();

            //Start the connection
            $.connection.hub.start().done(function () {

                //Send out messages on button click
                $("#sendBtn").click(function () {

                    //Call the send method in the hub
                    chat.server.send($("#userName").val(), $("#msg").val());

                    //Clear the textbox
                    $("#msg").val("").focus();
                });
            });
        });
    </script>
</body>
</html>